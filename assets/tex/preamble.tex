\documentclass[12pt, reqno]{article}
\usepackage[english]{babel}
\usepackage{fontspec}
\setmainfont{Iosevka Nerd Font}

\usepackage{mathtools}
\usepackage{amsfonts,amssymb,amsthm}

\usepackage{enumitem}
\usepackage{svn}
\usepackage{csquotes}
\usepackage{booktabs}
\usepackage{listings,listings-rust}
\usepackage{biblatex}
\usepackage{lipsum}

% \usepackage[amsmath,thmmarks,hyperref]{ntheorem}

\usepackage[dvipsnames]{xcolor}
\usepackage{hyperref}
\hypersetup{
    hypertexnames=false,
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\usepackage{cleveref}
\usepackage{subfiles}
\usepackage{tikz}
\usepackage{nag}

\usepackage{graphicx}
\usepackage[all]{xy}
\usepackage[a4paper,margin=2cm]{geometry}
\usepackage[english]{isodate}
\usepackage{ellipsis}
\usepackage{adjustbox}
\usepackage{microtype}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{mdframed}
\usepackage{titlesec}

% \usepackage{abstract}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}

\renewenvironment{abstract}{
  \small
  \begin{center}
    \bfseries 
    \abstractname\vspace{-.5em}\vspace{0pt}
  \end{center}
  \list{}{
    \setlength{\leftmargin}{0.15\textwidth}%
    \setlength{\rightmargin}{\leftmargin}%
  }%
  \item\relax}
{\endlist}

\titleformat
{\chapter} % command
[display] % shape
{\bfseries\Large\itshape} % format
{Story No. \ \thechapter} % label
{0.5ex} % sep
{
    \rule{\textwidth}{1pt}
    \vspace{1ex}
    \centering
} % before-code
[
\vspace{-0.5ex}%
\rule{\textwidth}{0.3pt}
] % after-code


% \titleformat{\section}
% {\normalfont\bfseries}
% {\thesection.}{0.5em}{}
\titleformat{\section}[block]{\Large\bfseries\filcenter}{\thesection.}{0.5em}{}
\titlespacing{\section}{\parindent}{1.5ex plus .1ex minus .2ex}{2pt}
\titleformat{\subsection}[runin]{\normalfont\large\bfseries}{\thesubsection.}{}{}[.]


\setlist[enumerate,1]{label={(\alph*)}}

% \titlespacing{\section}{12pc}{1.5ex plus .1ex minus .2ex}{1pc}

\newtheoremstyle{sltheorem}
                {}          % Space above
                {}          % Space below
                {\upshape}  % Body font
                {}          % Indent amount
                {\bfseries} % Head font
                {.}         % Punctuation after head
                { }         % Space after theorem head
                {}          % Theorem head spec
% Enable the new "sltheorem" theorem style.
\theoremstyle{sltheorem}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\author{Mykola Lysynskyi}

